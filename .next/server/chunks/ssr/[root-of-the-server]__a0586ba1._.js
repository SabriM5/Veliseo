module.exports = [
"[project]/.next-internal/server/app/admin/planning/page/actions.js [app-rsc] (server actions loader, ecmascript)", ((__turbopack_context__, module, exports) => {

}),
"[project]/src/app/layout.tsx [app-rsc] (ecmascript, Next.js Server Component)", ((__turbopack_context__) => {

__turbopack_context__.n(__turbopack_context__.i("[project]/src/app/layout.tsx [app-rsc] (ecmascript)"));
}),
"[project]/src/components/planning-calendar.tsx [app-rsc] (client reference proxy) <module evaluation>", ((__turbopack_context__) => {
"use strict";

// This file is generated by next-core EcmascriptClientReferenceModule.
__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server.js [app-rsc] (ecmascript)");
;
const __TURBOPACK__default__export__ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call the default export of [project]/src/components/planning-calendar.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/components/planning-calendar.tsx <module evaluation>", "default");
}),
"[project]/src/components/planning-calendar.tsx [app-rsc] (client reference proxy)", ((__turbopack_context__) => {
"use strict";

// This file is generated by next-core EcmascriptClientReferenceModule.
__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server.js [app-rsc] (ecmascript)");
;
const __TURBOPACK__default__export__ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call the default export of [project]/src/components/planning-calendar.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/components/planning-calendar.tsx", "default");
}),
"[project]/src/components/planning-calendar.tsx [app-rsc] (ecmascript)", ((__turbopack_context__) => {
"use strict";

var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$planning$2d$calendar$2e$tsx__$5b$app$2d$rsc$5d$__$28$client__reference__proxy$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/src/components/planning-calendar.tsx [app-rsc] (client reference proxy) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$planning$2d$calendar$2e$tsx__$5b$app$2d$rsc$5d$__$28$client__reference__proxy$29$__ = __turbopack_context__.i("[project]/src/components/planning-calendar.tsx [app-rsc] (client reference proxy)");
;
__turbopack_context__.n(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$planning$2d$calendar$2e$tsx__$5b$app$2d$rsc$5d$__$28$client__reference__proxy$29$__);
}),
"[project]/src/actions/schedule_actions.ts [app-rsc] (ecmascript)", ((__turbopack_context__, module, exports) => {

// 'use server'
// import { pool } from "@/lib/auth"; // Ton pool Postgres existant
// import { revalidatePath } from "next/cache";
// // Récupérer tous les cours pour le calendrier
// export async function getLessons(start: Date, end: Date) {
//   // On joint avec sys.prof pour avoir le nom du prof
//   // On joint avec scol.ue pour le titre (si besoin)
//   const result = await pool.query(`
//     SELECT 
//       l.id, 
//       l.deb as start, 
//       l.fin as "end", 
//       l.salle as "resourceId",
//       l.typec as type,
//       p.nom || ' ' || p.prenom as prof,
//       u.label as title
//     FROM scol.lecon l
//     LEFT JOIN sys.prof p ON l."profId" = p.id
//     LEFT JOIN scol.ue u ON l."ueId" = u.id
//     WHERE l.deb >= $1 AND l.fin <= $2
//   `, [start, end]);
//   // Conversion des dates pour que React comprenne
//   return result.rows.map(row => ({
//     ...row,
//     start: new Date(row.start),
//     end: new Date(row.end),
//     // Couleur conditionnelle selon le type (facultatif)
//     bgColor: row.type === 'TP' ? '#ef4444' : '#3b82f6'
//   }));
// }
// // Déplacer un cours (Drag & Drop)
// export async function moveLesson(lessonId: string, newStart: Date, newEnd: Date, newRoomId: string) {
//   // 1. DÉTECTION DE CONFLIT (Ta règle d'or)
//   // "Est-ce qu'il existe un AUTRE cours dans la MÊME salle qui CHEVAUCHE mes horaires ?"
//   const conflict = await pool.query(
//     `SELECT l.id, p.nom 
//      FROM scol.lecon l
//      LEFT JOIN sys.prof p ON l."profId" = p.id
//      WHERE l.salle = $1 
//        AND l.id != $2 -- On ne se compte pas soi-même
//        AND tstzrange(l.deb, l.fin) && tstzrange($3, $4) -- L'opérateur "overlap" de Postgres
//     `,
//     [newRoomId, lessonId, newStart, newEnd]
//   );
//   // S'il y a un résultat, c'est qu'il y a conflit
//   if (conflict.rowCount && conflict.rowCount > 0) {
//     const occupant = conflict.rows[0].nom || "un autre prof";
//     return { 
//       success: false, 
//       message: `Impossible : La salle est déjà prise par ${occupant} à cette heure.` 
//     };
//   }
//   // 2. SI TOUT EST BON : UPDATE
//   try {
//     await pool.query(
//       `UPDATE scol.lecon SET deb = $1, fin = $2, salle = $3 WHERE id = $4`,
//       [newStart, newEnd, newRoomId, lessonId]
//     );
//     // On rafraîchit les données de la page pour que tout le monde voie le changement
//     revalidatePath('/admin/planning'); 
//     return { success: true };
//   } catch (error) {
//     console.error(error);
//     return { success: false, message: "Erreur technique lors de la sauvegarde." };
//   }
// }
}),
"[project]/src/app/admin/planning/page.tsx [app-rsc] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>PlanningPage
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$planning$2d$calendar$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/planning-calendar.tsx [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$schedule_actions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/actions/schedule_actions.ts [app-rsc] (ecmascript)");
;
;
;
async function PlanningPage() {
    // 1. On définit la plage de dates à charger (ex: Année 2025)
    // Dans une vraie app, on gérerait ça dynamiquement, mais pour la démo on charge large
    const start = new Date(2025, 0, 1); // 1er Janvier
    const end = new Date(2025, 11, 31); // 31 Décembre
    // 2. On récupère les VRAIS cours depuis Postgres
    const lessons = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$actions$2f$schedule_actions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getLessons"])(start, end);
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "p-6 bg-gray-50 min-h-screen",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex justify-between items-center mb-6",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("h1", {
                        className: "text-2xl font-bold text-gray-800",
                        children: "Planning Scolaire"
                    }, void 0, false, {
                        fileName: "[project]/src/app/admin/planning/page.tsx",
                        lineNumber: 16,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "text-sm text-gray-500",
                        children: [
                            lessons.length,
                            " cours chargés"
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/app/admin/planning/page.tsx",
                        lineNumber: 17,
                        columnNumber: 9
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/src/app/admin/planning/page.tsx",
                lineNumber: 15,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$planning$2d$calendar$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"], {
                initialEvents: lessons
            }, void 0, false, {
                fileName: "[project]/src/app/admin/planning/page.tsx",
                lineNumber: 23,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/src/app/admin/planning/page.tsx",
        lineNumber: 14,
        columnNumber: 5
    }, this);
}
}),
"[project]/src/app/admin/planning/page.tsx [app-rsc] (ecmascript, Next.js Server Component)", ((__turbopack_context__) => {

__turbopack_context__.n(__turbopack_context__.i("[project]/src/app/admin/planning/page.tsx [app-rsc] (ecmascript)"));
}),
"[externals]/next/dist/shared/lib/no-fallback-error.external.js [external] (next/dist/shared/lib/no-fallback-error.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/shared/lib/no-fallback-error.external.js", () => require("next/dist/shared/lib/no-fallback-error.external.js"));

module.exports = mod;
}),
];

//# sourceMappingURL=%5Broot-of-the-server%5D__a0586ba1._.js.map