{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sabri/Downloads/ESEO/S9/architecture/Veliseo/REP/src/actions/schedule_actions.ts"],"sourcesContent":["'use server'\r\n\r\nimport { pool } from \"@/lib/auth\"; // Ton pool Postgres existant\r\nimport { revalidatePath } from \"next/cache\";\r\n\r\n// Récupérer tous les cours pour le calendrier\r\nexport async function getLessons(start: Date, end: Date) {\r\n  // On joint avec sys.prof pour avoir le nom du prof\r\n  // On joint avec scol.ue pour le titre (si besoin)\r\n  const result = await pool.query(`\r\n    SELECT \r\n      l.id, \r\n      l.deb as start, \r\n      l.fin as \"end\", \r\n      l.salle as \"resourceId\",\r\n      l.typec as type,\r\n      p.nom || ' ' || p.prenom as prof,\r\n      u.label as title\r\n    FROM scol.lecon l\r\n    LEFT JOIN sys.prof p ON l.\"profId\" = p.id\r\n    LEFT JOIN scol.ue u ON l.\"ueId\" = u.id\r\n    WHERE l.deb >= $1 AND l.fin <= $2\r\n  `, [start, end]);\r\n\r\n  // Conversion des dates pour que React comprenne\r\n  return result.rows.map(row => ({\r\n    ...row,\r\n    start: new Date(row.start),\r\n    end: new Date(row.end),\r\n    // Couleur conditionnelle selon le type (facultatif)\r\n    bgColor: row.type === 'TP' ? '#ef4444' : '#3b82f6'\r\n  }));\r\n}\r\n\r\n// Déplacer un cours (Drag & Drop)\r\nexport async function moveLesson(lessonId: string, newStart: Date, newEnd: Date, newRoomId: string) {\r\n  \r\n  // 1. DÉTECTION DE CONFLIT (Ta règle d'or)\r\n  // \"Est-ce qu'il existe un AUTRE cours dans la MÊME salle qui CHEVAUCHE mes horaires ?\"\r\n  const conflict = await pool.query(\r\n    `SELECT l.id, p.nom \r\n     FROM scol.lecon l\r\n     LEFT JOIN sys.prof p ON l.\"profId\" = p.id\r\n     WHERE l.salle = $1 \r\n       AND l.id != $2 -- On ne se compte pas soi-même\r\n       AND tstzrange(l.deb, l.fin) && tstzrange($3, $4) -- L'opérateur \"overlap\" de Postgres\r\n    `,\r\n    [newRoomId, lessonId, newStart, newEnd]\r\n  );\r\n\r\n  // S'il y a un résultat, c'est qu'il y a conflit\r\n  if (conflict.rowCount && conflict.rowCount > 0) {\r\n    const occupant = conflict.rows[0].nom || \"un autre prof\";\r\n    return { \r\n      success: false, \r\n      message: `Impossible : La salle est déjà prise par ${occupant} à cette heure.` \r\n    };\r\n  }\r\n\r\n  // 2. SI TOUT EST BON : UPDATE\r\n  try {\r\n    await pool.query(\r\n      `UPDATE scol.lecon SET deb = $1, fin = $2, salle = $3 WHERE id = $4`,\r\n      [newStart, newEnd, newRoomId, lessonId]\r\n    );\r\n    \r\n    // On rafraîchit les données de la page pour que tout le monde voie le changement\r\n    revalidatePath('/admin/planning'); \r\n    return { success: true };\r\n    \r\n  } catch (error) {\r\n    console.error(error);\r\n    return { success: false, message: \"Erreur technique lors de la sauvegarde.\" };\r\n  }\r\n}"],"names":[],"mappings":";;;;;;;IAmCsB,aAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA","debugId":null}},
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sabri/Downloads/ESEO/S9/architecture/Veliseo/REP/src/components/planning-calendar.tsx"],"sourcesContent":["// \"use client\";\r\n\r\n// import React, { useState, useCallback } from \"react\";\r\n// import { Calendar, dateFnsLocalizer, Views, View } from \"react-big-calendar\";\r\n// import withDragAndDrop from \"react-big-calendar/lib/addons/dragAndDrop\";\r\n// import { format, parse, startOfWeek, getDay } from \"date-fns\";\r\n// import { fr } from \"date-fns/locale\";\r\n// import { X, MapPin, User, Users, Clock, BookOpen } from \"lucide-react\"; // Icônes pour le style\r\n\r\n// import \"react-big-calendar/lib/css/react-big-calendar.css\";\r\n// import \"react-big-calendar/lib/addons/dragAndDrop/styles.css\";\r\n\r\n// // --- 1. CONFIGURATION ---\r\n// const locales = { \"fr\": fr };\r\n// const localizer = dateFnsLocalizer({\r\n//   format,\r\n//   parse,\r\n//   startOfWeek,\r\n//   getDay,\r\n//   locales,\r\n// });\r\n\r\n// const DnDCalendar = withDragAndDrop(Calendar);\r\n\r\n// // --- 2. DONNÉES RICHES (MOCKS) ---\r\n// // On ajoute des champs : prof, groupes, type, salles...\r\n// const EVENTS_MOCK = [\r\n//   {\r\n//     id: 1,\r\n//     title: \"Traitement du langage naturel\",\r\n//     type: \"Travaux Pratiques\",\r\n//     groups: \"E5e-Paris-BD, E5e-Paris-IA\",\r\n//     prof: \"TLIG Ghassen\",\r\n//     salles: \"S1.6 - HILBERT, S1.5 - HERTZ\",\r\n//     start: new Date(2025, 3, 10, 8, 45), // 10 Avril à 08h45\r\n//     end: new Date(2025, 3, 10, 12, 45),\r\n//     resourceId: \"salle_hilbert\", \r\n//     bgColor: \"#ef4444\", // Rouge (TP)\r\n//   },\r\n//   {\r\n//     id: 2,\r\n//     title: \"Mathématiques pour l'ingénieur\",\r\n//     type: \"Cours Magistral\",\r\n//     groups: \"Promo E5\",\r\n//     prof: \"DUPONT Jean\",\r\n//     salles: \"Amphi A\",\r\n//     start: new Date(2025, 3, 10, 14, 0),\r\n//     end: new Date(2025, 3, 10, 16, 0),\r\n//     resourceId: \"amphi_a\", \r\n//     bgColor: \"#3b82f6\", // Bleu (CM)\r\n//   },\r\n// ];\r\n\r\n// export default function PlanningCalendar() {\r\n//   const [events, setEvents] = useState(EVENTS_MOCK);\r\n//   const [view, setView] = useState<View>(Views.WORK_WEEK);\r\n//   const [date, setDate] = useState(new Date(2025, 3, 10));\r\n  \r\n//   // État pour la fenêtre de détail (Modale)\r\n//   const [selectedEvent, setSelectedEvent] = useState<any>(null);\r\n\r\n//   // --- GESTION DU DRAG & DROP ---\r\n//   const onEventDrop = useCallback(\r\n//     ({ event, start, end }: any) => {\r\n//       setEvents((prev) => {\r\n//         const filtered = prev.filter((e) => e.id !== event.id);\r\n//         return [...filtered, { ...event, start, end }];\r\n//       });\r\n//     },\r\n//     []\r\n//   );\r\n\r\n//   // --- STYLE DES ÉVÉNEMENTS SUR LE CALENDRIER ---\r\n//   // On personnalise l'apparence de la petite brique dans le planning\r\n//   const eventStyleGetter = (event: any) => {\r\n//     return {\r\n//       style: {\r\n//         backgroundColor: event.bgColor || \"#3b82f6\",\r\n//         borderRadius: \"4px\",\r\n//         opacity: 0.9,\r\n//         color: \"white\",\r\n//         border: \"0px\",\r\n//         display: \"block\",\r\n//         fontSize: \"0.80rem\",\r\n//         padding: \"2px\"\r\n//       },\r\n//     };\r\n//   };\r\n\r\n//   // Composant personnalisé pour l'affichage DANS la case du calendrier\r\n//   const CustomEvent = ({ event }: any) => (\r\n//     <div className=\"flex flex-col h-full overflow-hidden leading-tight\">\r\n//       <span className=\"font-bold text-xs\">{event.title}</span>\r\n//       <span className=\"text-[10px] italic\">{event.type}</span>\r\n//       <div className=\"mt-auto text-[10px] flex items-center gap-1\">\r\n//         <MapPin size={10} /> {event.salles?.split(',')[0]} {/* On affiche juste la 1ere salle si trop long */}\r\n//       </div>\r\n//     </div>\r\n//   );\r\n\r\n//   return (\r\n//     <div className=\"relative\">\r\n//       {/* CALENDRIER */}\r\n//       <div className=\"h-[700px] bg-white p-4 rounded-lg shadow-md text-black border border-gray-200\">\r\n//         <DnDCalendar\r\n//           localizer={localizer}\r\n//           events={events}\r\n          \r\n//           // Interaction\r\n//           onSelectEvent={(event) => setSelectedEvent(event)} // Clic sur un cours\r\n//           draggableAccessor={() => true}\r\n//           resizable\r\n//           onEventDrop={onEventDrop}\r\n//           onEventResize={onEventDrop}\r\n\r\n//           // Vue\r\n//           defaultView={Views.WORK_WEEK}\r\n//           views={[Views.DAY, Views.WORK_WEEK, Views.MONTH]}\r\n//           step={15} // Créneaux de 15 min pour être précis (08h45)\r\n//           showMultiDayTimes\r\n          \r\n//           date={date}\r\n//           onNavigate={setDate}\r\n//           onView={setView}\r\n          \r\n//           // Customisation\r\n//           culture=\"fr\"\r\n//           eventPropGetter={eventStyleGetter}\r\n//           components={{\r\n//             event: CustomEvent // Notre design personnalisé pour la brique\r\n//           }}\r\n          \r\n//           messages={{\r\n//             next: \"Suivant\",\r\n//             previous: \"Précédent\",\r\n//             today: \"Aujourd'hui\",\r\n//             month: \"Mois\",\r\n//             week: \"Semaine\",\r\n//             day: \"Jour\",\r\n//             agenda: \"Agenda\",\r\n//             date: \"Date\",\r\n//             time: \"Heure\",\r\n//             event: \"Cours\",\r\n//             noEventsInRange: \"Aucun cours.\",\r\n//           }}\r\n//         />\r\n//       </div>\r\n\r\n//       {/* --- FENÊTRE DE DÉTAILS (MODALE) --- */}\r\n//       {selectedEvent && (\r\n//         <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4\">\r\n//           <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200\">\r\n            \r\n//             {/* En-tête coloré */}\r\n//             <div \r\n//               className=\"p-4 text-white flex justify-between items-start\"\r\n//               style={{ backgroundColor: selectedEvent.bgColor || '#3b82f6' }}\r\n//             >\r\n//               <div>\r\n//                 <h2 className=\"text-lg font-bold leading-snug\">{selectedEvent.title}</h2>\r\n//                 <span className=\"text-sm opacity-90 block mt-1\">{selectedEvent.type}</span>\r\n//               </div>\r\n//               <button \r\n//                 onClick={() => setSelectedEvent(null)}\r\n//                 className=\"text-white/80 hover:text-white hover:bg-white/20 rounded-full p-1 transition\"\r\n//               >\r\n//                 <X size={20} />\r\n//               </button>\r\n//             </div>\r\n\r\n//             {/* Corps de la modale */}\r\n//             <div className=\"p-6 space-y-4 text-gray-800\">\r\n              \r\n//               {/* Horaires */}\r\n//               <div className=\"flex items-center gap-3 text-lg font-semibold text-gray-900 bg-gray-50 p-3 rounded-lg border border-gray-100\">\r\n//                 <Clock className=\"text-gray-500\" size={20} />\r\n//                 <span>\r\n//                   {format(selectedEvent.start, \"HH'h'mm\")} - {format(selectedEvent.end, \"HH'h'mm\")}\r\n//                 </span>\r\n//               </div>\r\n\r\n//               {/* Groupes */}\r\n//               <div className=\"flex items-start gap-3\">\r\n//                 <Users className=\"text-gray-400 mt-1\" size={18} />\r\n//                 <div>\r\n//                   <p className=\"text-xs text-gray-500 uppercase font-semibold\">Groupes</p>\r\n//                   <p className=\"text-sm font-medium\">{selectedEvent.groups}</p>\r\n//                 </div>\r\n//               </div>\r\n\r\n//               {/* Salles */}\r\n//               <div className=\"flex items-start gap-3\">\r\n//                 <MapPin className=\"text-gray-400 mt-1\" size={18} />\r\n//                 <div>\r\n//                   <p className=\"text-xs text-gray-500 uppercase font-semibold\">Salles</p>\r\n//                   <p className=\"text-sm font-medium\">{selectedEvent.salles}</p>\r\n//                 </div>\r\n//               </div>\r\n\r\n//               {/* Professeur */}\r\n//               <div className=\"flex items-start gap-3\">\r\n//                 <User className=\"text-gray-400 mt-1\" size={18} />\r\n//                 <div>\r\n//                   <p className=\"text-xs text-gray-500 uppercase font-semibold\">Enseignant</p>\r\n//                   <p className=\"text-sm font-medium\">{selectedEvent.prof}</p>\r\n//                 </div>\r\n//               </div>\r\n\r\n//             </div>\r\n\r\n//             {/* Pied de page */}\r\n//             <div className=\"p-4 bg-gray-50 border-t flex justify-end\">\r\n//                 <span className=\"text-xs text-gray-400 px-2 py-1\">ID: {selectedEvent.id}</span>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//       )}\r\n//     </div>\r\n//   );\r\n// }\r\n\"use client\";\r\n\r\nimport React, { useState, useCallback, useEffect } from \"react\";\r\nimport { Calendar, dateFnsLocalizer, Views, View } from \"react-big-calendar\";\r\nimport withDragAndDrop from \"react-big-calendar/lib/addons/dragAndDrop\";\r\nimport { format, parse, startOfWeek, getDay } from \"date-fns\";\r\nimport { fr } from \"date-fns/locale\";\r\nimport { toast } from \"sonner\"; // Pour afficher les erreurs\r\nimport { moveLesson } from \"@/actions/schedule_actions\"; // Notre Server Action\r\n\r\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\r\nimport \"react-big-calendar/lib/addons/dragAndDrop/styles.css\";\r\n\r\nconst locales = { \"fr\": fr };\r\nconst localizer = dateFnsLocalizer({ format, parse, startOfWeek, getDay, locales });\r\nconst DnDCalendar = withDragAndDrop(Calendar);\r\n\r\n// Props : Le composant reçoit désormais les cours depuis le serveur\r\ninterface PlanningProps {\r\n  initialEvents: any[];\r\n}\r\n\r\nexport default function PlanningCalendar({ initialEvents }: PlanningProps) {\r\n  const [events, setEvents] = useState(initialEvents);\r\n  const [view, setView] = useState<View>(Views.WORK_WEEK);\r\n  const [date, setDate] = useState(new Date()); // Date d'aujourd'hui par défaut\r\n\r\n  // Mettre à jour si les props changent (ex: après un refresh serveur)\r\n  useEffect(() => {\r\n    setEvents(initialEvents);\r\n  }, [initialEvents]);\r\n\r\n  // --- QUAND ON LÂCHE LA SOURIS (DROP) ---\r\n  const onEventDrop = useCallback(async ({ event, start, end, resourceId }: any) => {\r\n      // 1. Sauvegarde l'ancien état (pour annuler si erreur)\r\n      const oldEvents = [...events];\r\n      \r\n      // 2. Mise à jour Optimiste (On bouge tout de suite pour que ce soit fluide)\r\n      const updatedEvent = { ...event, start, end, resourceId };\r\n      setEvents((prev) => prev.map(e => e.id === event.id ? updatedEvent : e));\r\n\r\n      // 3. Appel au Serveur (Postgres)\r\n      // Si resourceId est undefined (pas changé de salle), on garde l'ancienne\r\n      const targetRoom = resourceId || event.resourceId; \r\n      \r\n      const result = await moveLesson(event.id, start, end, targetRoom);\r\n\r\n      if (!result.success) {\r\n        // AÏE : CONFLIT !\r\n        toast.error(result.message); // Affiche \"Impossible : Salle prise par...\"\r\n        setEvents(oldEvents); // On remet le cours à sa place d'origine (Rollback)\r\n      } else {\r\n        toast.success(\"Cours déplacé avec succès\");\r\n      }\r\n    },\r\n    [events]\r\n  );\r\n\r\n  // Style (identique à avant)\r\n  const eventStyleGetter = (event: any) => ({\r\n    style: {\r\n      backgroundColor: event.bgColor || \"#3b82f6\",\r\n      borderRadius: \"4px\",\r\n      fontSize: \"0.80rem\",\r\n      border: \"0px\",\r\n      display: \"block\",\r\n    },\r\n  });\r\n\r\n  return (\r\n    <div className=\"h-[700px] bg-white p-4 rounded-lg shadow-md border border-gray-200\">\r\n      <DnDCalendar\r\n        localizer={localizer}\r\n        events={events}\r\n        draggableAccessor={() => true}\r\n        resizable\r\n        onEventDrop={onEventDrop}\r\n        onEventResize={onEventDrop} // Gère aussi le redimensionnement\r\n        \r\n        defaultView={Views.WORK_WEEK}\r\n        views={[Views.DAY, Views.WORK_WEEK, Views.MONTH]}\r\n        step={15}\r\n        showMultiDayTimes\r\n        \r\n        date={date}\r\n        onNavigate={setDate}\r\n        onView={setView}\r\n        \r\n        culture=\"fr\"\r\n        eventPropGetter={eventStyleGetter}\r\n        \r\n        // Configuration des ressources (Salles) pour la vue Journée si besoin\r\n        // resources={...} \r\n        \r\n        messages={{\r\n            next: \"Suivant\",\r\n            previous: \"Précédent\",\r\n            today: \"Aujourd'hui\",\r\n            month: \"Mois\",\r\n            week: \"Semaine\",\r\n            day: \"Jour\",\r\n            agenda: \"Agenda\",\r\n            date: \"Date\",\r\n            time: \"Heure\",\r\n            event: \"Cours\",\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}